<!DOCTYPE html>
<html lang="en"><head><meta charset="UTF-8"/><meta name="viewport" content="width=device-width, initial-scale=1.0"/><title>Home · CompositeTypes.jl</title><meta name="title" content="Home · CompositeTypes.jl"/><meta property="og:title" content="Home · CompositeTypes.jl"/><meta property="twitter:title" content="Home · CompositeTypes.jl"/><meta name="description" content="Documentation for CompositeTypes.jl."/><meta property="og:description" content="Documentation for CompositeTypes.jl."/><meta property="twitter:description" content="Documentation for CompositeTypes.jl."/><script data-outdated-warner src="assets/warner.js"></script><link href="https://cdnjs.cloudflare.com/ajax/libs/lato-font/3.0.0/css/lato-font.min.css" rel="stylesheet" type="text/css"/><link href="https://cdnjs.cloudflare.com/ajax/libs/juliamono/0.050/juliamono.min.css" rel="stylesheet" type="text/css"/><link href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/6.4.2/css/fontawesome.min.css" rel="stylesheet" type="text/css"/><link href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/6.4.2/css/solid.min.css" rel="stylesheet" type="text/css"/><link href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/6.4.2/css/brands.min.css" rel="stylesheet" type="text/css"/><link href="https://cdnjs.cloudflare.com/ajax/libs/KaTeX/0.16.8/katex.min.css" rel="stylesheet" type="text/css"/><script>documenterBaseURL="."</script><script src="https://cdnjs.cloudflare.com/ajax/libs/require.js/2.3.6/require.min.js" data-main="assets/documenter.js"></script><script src="search_index.js"></script><script src="siteinfo.js"></script><script src="../versions.js"></script><link class="docs-theme-link" rel="stylesheet" type="text/css" href="assets/themes/documenter-dark.css" data-theme-name="documenter-dark" data-theme-primary-dark/><link class="docs-theme-link" rel="stylesheet" type="text/css" href="assets/themes/documenter-light.css" data-theme-name="documenter-light" data-theme-primary/><script src="assets/themeswap.js"></script></head><body><div id="documenter"><nav class="docs-sidebar"><div class="docs-package-name"><span class="docs-autofit"><a href>CompositeTypes.jl</a></span></div><button class="docs-search-query input is-rounded is-small is-clickable my-2 mx-auto py-1 px-2" id="documenter-search-query">Search docs (Ctrl + /)</button><ul class="docs-menu"><li class="is-active"><a class="tocitem" href>Home</a><ul class="internal"><li><a class="tocitem" href="#Interface"><span>Interface</span></a></li><li><a class="tocitem" href="#Indexing"><span>Indexing</span></a></li><li><a class="tocitem" href="#Display"><span>Display</span></a></li></ul></li><li><span class="tocitem">API</span><ul><li><a class="tocitem" href="api/">Public API Reference</a></li><li><a class="tocitem" href="internal/">Internal API Reference</a></li></ul></li><li><a class="tocitem" href="indexing/">Indexing submodule</a></li><li><a class="tocitem" href="display/">Display submodule</a></li></ul><div class="docs-version-selector field has-addons"><div class="control"><span class="docs-label button is-static is-size-7">Version</span></div><div class="docs-selector control is-expanded"><div class="select is-fullwidth is-size-7"><select id="documenter-version-selector"></select></div></div></div></nav><div class="docs-main"><header class="docs-navbar"><a class="docs-sidebar-button docs-navbar-link fa-solid fa-bars is-hidden-desktop" id="documenter-sidebar-button" href="#"></a><nav class="breadcrumb"><ul class="is-hidden-mobile"><li class="is-active"><a href>Home</a></li></ul><ul class="is-hidden-tablet"><li class="is-active"><a href>Home</a></li></ul></nav><div class="docs-right"><a class="docs-navbar-link" href="https://github.com/JuliaApproximation/CompositeTypes.jl" title="View the repository on GitHub"><span class="docs-icon fa-brands"></span><span class="docs-label is-hidden-touch">GitHub</span></a><a class="docs-navbar-link" href="https://github.com/JuliaApproximation/CompositeTypes.jl/blob/main/docs/src/index.md" title="Edit source on GitHub"><span class="docs-icon fa-solid"></span></a><a class="docs-settings-button docs-navbar-link fa-solid fa-gear" id="documenter-settings-button" href="#" title="Settings"></a><a class="docs-article-toggle-button fa-solid fa-chevron-up" id="documenter-article-toggle-button" href="javascript:;" title="Collapse all docstrings"></a></div></header><article class="content" id="documenter-page"><h1 id="CompositeTypes.jl"><a class="docs-heading-anchor" href="#CompositeTypes.jl">CompositeTypes.jl</a><a id="CompositeTypes.jl-1"></a><a class="docs-heading-anchor-permalink" href="#CompositeTypes.jl" title="Permalink"></a></h1><p>CompositeTypes.jl defines an interface for types that consist of multiple components.</p><h2 id="Interface"><a class="docs-heading-anchor" href="#Interface">Interface</a><a id="Interface-1"></a><a class="docs-heading-anchor-permalink" href="#Interface" title="Permalink"></a></h2><p>The package defines the following functions:</p><article class="docstring"><header><a class="docstring-article-toggle-button fa-solid fa-chevron-down" href="javascript:;" title="Collapse docstring"></a><a class="docstring-binding" id="CompositeTypes.iscomposite-Tuple{Any}-index" href="#CompositeTypes.iscomposite-Tuple{Any}-index"><code>CompositeTypes.iscomposite</code></a> — <span class="docstring-category">Method</span></header><section><div><pre><code class="language-julia hljs">iscomposite(x)</code></pre><p>Is <code>x</code> a composite object?</p><p>If an object is composite, then its components can be queried using the <code>components</code> function.</p></div><a class="docs-sourcelink" target="_blank" href="https://github.com/JuliaApproximation/CompositeTypes.jl/blob/597b58dbe6a8b12bd40a82bd0e53460a7a598f4c/src/CompositeTypes.jl#L10-L17">source</a></section></article><article class="docstring"><header><a class="docstring-article-toggle-button fa-solid fa-chevron-down" href="javascript:;" title="Collapse docstring"></a><a class="docstring-binding" id="CompositeTypes.components-Tuple{Any}-index" href="#CompositeTypes.components-Tuple{Any}-index"><code>CompositeTypes.components</code></a> — <span class="docstring-category">Method</span></header><section><div><pre><code class="language-julia hljs">components(x)</code></pre><p>The components of the composite object <code>x</code>.</p></div><a class="docs-sourcelink" target="_blank" href="https://github.com/JuliaApproximation/CompositeTypes.jl/blob/597b58dbe6a8b12bd40a82bd0e53460a7a598f4c/src/CompositeTypes.jl#L20-L24">source</a></section></article><article class="docstring"><header><a class="docstring-article-toggle-button fa-solid fa-chevron-down" href="javascript:;" title="Collapse docstring"></a><a class="docstring-binding" id="CompositeTypes.component-Tuple{Any, Vararg{Any, N} where N}-index" href="#CompositeTypes.component-Tuple{Any, Vararg{Any, N} where N}-index"><code>CompositeTypes.component</code></a> — <span class="docstring-category">Method</span></header><section><div><pre><code class="language-julia hljs">component(x, I...)</code></pre><p>The component of <code>x</code> that corresponds to the given index.</p></div><a class="docs-sourcelink" target="_blank" href="https://github.com/JuliaApproximation/CompositeTypes.jl/blob/597b58dbe6a8b12bd40a82bd0e53460a7a598f4c/src/CompositeTypes.jl#L34-L38">source</a></section></article><article class="docstring"><header><a class="docstring-article-toggle-button fa-solid fa-chevron-down" href="javascript:;" title="Collapse docstring"></a><a class="docstring-binding" id="CompositeTypes.ncomponents-Tuple{Any}-index" href="#CompositeTypes.ncomponents-Tuple{Any}-index"><code>CompositeTypes.ncomponents</code></a> — <span class="docstring-category">Method</span></header><section><div><pre><code class="language-julia hljs">ncomponents(x)</code></pre><p>The number of components of composite object <code>x</code>.</p></div><a class="docs-sourcelink" target="_blank" href="https://github.com/JuliaApproximation/CompositeTypes.jl/blob/597b58dbe6a8b12bd40a82bd0e53460a7a598f4c/src/CompositeTypes.jl#L27-L31">source</a></section></article><article class="docstring"><header><a class="docstring-article-toggle-button fa-solid fa-chevron-down" href="javascript:;" title="Collapse docstring"></a><a class="docstring-binding" id="CompositeTypes.setcomponent!-Tuple{Any, Any, Vararg{Any, N} where N}-index" href="#CompositeTypes.setcomponent!-Tuple{Any, Any, Vararg{Any, N} where N}-index"><code>CompositeTypes.setcomponent!</code></a> — <span class="docstring-category">Method</span></header><section><div><pre><code class="language-julia hljs">setcomponent!(x, v, I...)</code></pre><p>Set the component of <code>x</code> that corresponds to the given index to <code>v</code>.</p></div><a class="docs-sourcelink" target="_blank" href="https://github.com/JuliaApproximation/CompositeTypes.jl/blob/597b58dbe6a8b12bd40a82bd0e53460a7a598f4c/src/CompositeTypes.jl#L41-L45">source</a></section></article><p>A type can declare to be composite simply by implementing <code>components(x)</code>, and returning something with non-zero <code>length</code>.</p><h2 id="Indexing"><a class="docs-heading-anchor" href="#Indexing">Indexing</a><a id="Indexing-1"></a><a class="docs-heading-anchor-permalink" href="#Indexing" title="Permalink"></a></h2><p>The submodule <code>Indexing</code> defines a generic way to index components of a composite object. For example, using the <code>DomainSets.jl</code> package:</p><pre><code class="language-julia hljs">julia&gt; using DomainSets, CompositeTypes.Indexing

julia&gt; d = UnitCube(3); components(d)
3-element Vector{UnitInterval{Float64}}:
 0.0..1.0 (Unit)
 0.0..1.0 (Unit)
 0.0..1.0 (Unit)

julia&gt; d[Component(1)]
 0.0..1.0 (Unit)

julia&gt; d[Component(1):Component(2)]
2-element Vector{UnitInterval{Float64}}:
 0.0..1.0 (Unit)
 0.0..1.0 (Unit)</code></pre><h2 id="Display"><a class="docs-heading-anchor" href="#Display">Display</a><a id="Display-1"></a><a class="docs-heading-anchor-permalink" href="#Display" title="Permalink"></a></h2><h3 id="Examples"><a class="docs-heading-anchor" href="#Examples">Examples</a><a id="Examples-1"></a><a class="docs-heading-anchor-permalink" href="#Examples" title="Permalink"></a></h3><p>Composite types can opt-in to a structured multi-line representation by defining a display stencil and specializing <code>show</code>. An example, again using the <code>DomainSets.jl</code> package:</p><pre><code class="language-julia hljs">julia&gt; using DomainSets

julia&gt; boundary(UnitCube(3))
D₄ ∪ D₁ ∪ D₃

D₁ = (0.0..1.0 (Unit)) × D₂ × (0.0..1.0 (Unit))
D₂ = Point{Float64}(0.0) ∪ Point{Float64}(1.0)
D₃ = (0.0..1.0 (Unit)) × (0.0..1.0 (Unit)) × D₂
D₄ = D₂ × (0.0..1.0 (Unit)) × (0.0..1.0 (Unit))</code></pre><p>The display routines recursively evaluate display stencils of all objects appearing in the stencil of an object, up to a maximum recursion depth. An attempt is made to define symbols, such that the output remains somewhat readable.</p><p>Both the <code>ProductDomain</code> and <code>UnionDomain</code> types are composite types. They combine their components using a <code>combinationsymbol</code>, in this case <code>∪</code> and <code>×</code>. The output above is achieved with the definitions, for <code>ProductDomain</code>:</p><pre><code class="language-julia hljs">using CompositeTypes.Display
Display.combinationsymbol(d::ProductDomain) = Display.Symbol(&#39;×&#39;)
Display.displaystencil(d::ProductDomain) = composite_displaystencil(d)

show(io::IO, mime::MIME&quot;text/plain&quot;, d::ProductDomain) = composite_show(io, mime, d)
show(io::IO, d::ProductDomain) = composite_show_compact(io, d)</code></pre><p>The invocation of <code>show</code> with the <code>mime</code> argument indicates that a multi-line representation can be shown. The shorter <code>show(io, x)</code> function typically expects a one-line representation. Types can choose to implement either function. Typically the longer version is the most useful, while for the compact version it may be safer to rely on Julia&#39;s default.</p><p>A type can define a custom display stencil, which is a vector in which each string or character ends up being displayed, and each object is replaced by its own display stencil or by a compact string representation. For example:</p><pre><code class="language-julia hljs">Display.displaystencil(object::LinearMap) = [object.A, &quot; * x + &quot;, object.b]</code></pre><h3 id="Relevant-functions"><a class="docs-heading-anchor" href="#Relevant-functions">Relevant functions</a><a id="Relevant-functions-1"></a><a class="docs-heading-anchor-permalink" href="#Relevant-functions" title="Permalink"></a></h3><article class="docstring"><header><a class="docstring-article-toggle-button fa-solid fa-chevron-down" href="javascript:;" title="Collapse docstring"></a><a class="docstring-binding" id="CompositeTypes.Display.displaystencil-index" href="#CompositeTypes.Display.displaystencil-index"><code>CompositeTypes.Display.displaystencil</code></a> — <span class="docstring-category">Function</span></header><section><div><pre><code class="language-julia hljs">displaystencil(object)</code></pre><p>Return the stencil of the object as an array.</p><p>The stencil of an object determines how it is displayed. The array may contain characters or strings, and references to other objects. The concatenation of all elements, with the objects replaced by their string representation, forms the representation of the given object.</p><p>Example: say an object <code>obj</code> consists of two parts, <code>obj[1]</code> and <code>obj[2]</code>, combined by a function commonly noted as <code>I</code>. Then the stencil may be: <code>displaystencil(obj) = [&quot;I(&quot;, obj[1], &quot;, &quot;, obj[2], &#39;)&#39;]</code>.</p><p>In the string representation of the object, both <code>obj[1]</code> and <code>obj[2]</code> are replaced by a string, or by a symbol that has its own string representation separately.</p></div><a class="docs-sourcelink" target="_blank" href="https://github.com/JuliaApproximation/CompositeTypes.jl/blob/597b58dbe6a8b12bd40a82bd0e53460a7a598f4c/src/Display.jl#L109-L126">source</a></section></article></article><nav class="docs-footer"><a class="docs-footer-nextpage" href="api/">Public API Reference »</a><div class="flexbox-break"></div><p class="footer-message">Powered by <a href="https://github.com/JuliaDocs/Documenter.jl">Documenter.jl</a> and the <a href="https://julialang.org/">Julia Programming Language</a>.</p></nav></div><div class="modal" id="documenter-settings"><div class="modal-background"></div><div class="modal-card"><header class="modal-card-head"><p class="modal-card-title">Settings</p><button class="delete"></button></header><section class="modal-card-body"><p><label class="label">Theme</label><div class="select"><select id="documenter-themepicker"><option value="auto">Automatic (OS)</option><option value="documenter-light">documenter-light</option><option value="documenter-dark">documenter-dark</option></select></div></p><hr/><p>This document was generated with <a href="https://github.com/JuliaDocs/Documenter.jl">Documenter.jl</a> version 1.3.0 on <span class="colophon-date" title="Sunday 7 April 2024 14:16">Sunday 7 April 2024</span>. Using Julia version 1.6.7.</p></section><footer class="modal-card-foot"></footer></div></div></div></body></html>
